import{t as j,a as x,c as U}from"../chunks/DyjdbHco.js";import{A as nt,ak as at,al as it,ad as ct,am as V,a5 as lt,aj as k,ag as ft,ah as C,j as p,a6 as Y,ai as F,af as $,ae as W}from"../chunks/BzEa9_TB.js";import{d as dt,s as pt}from"../chunks/DsGowtdd.js";import{i as X}from"../chunks/B76Wvor3.js";import{e as L,i as q}from"../chunks/MzGdBfJh.js";import{r as mt,s as vt,a as ut,b as ht}from"../chunks/BRaqvQm-.js";const gt=[];function E(t,m=!1){return R(t,new Map,"",gt)}function R(t,m,v,g,y=null){if(typeof t=="object"&&t!==null){var P=m.get(t);if(P!==void 0)return P;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(nt(t)){var h=Array(t.length);m.set(t,h),y!==null&&m.set(y,h);for(var S=0;S<t.length;S+=1){var A=t[S];S in t&&(h[S]=R(A,m,v,g))}return h}if(at(t)===it){h={},m.set(t,h),y!==null&&m.set(y,h);for(var D in t)h[D]=R(t[D],m,v,g);return h}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return R(t.toJSON(),m,v,g,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}const _t=(t,m,v,g,y)=>{const P=E(p(m)).map(h=>[...h]);Y(v,g(P,y),!0),console.log("Unique Solutions:",E(p(v)))};var bt=(t,m,v,g)=>m(v,g),Ft=j('<label class="flex items-center space-x-2"><input class="checkbox" type="checkbox"></label>'),wt=j('<div class="flex items-center space-x-2"></div>'),xt=j('<div class="w-8 h-8 border border-gray-300"></div>'),yt=j('<div class="mb-8 w-screen"><h3 class="text-xl font-semibold mb-4"></h3> <div class="mb-2"><strong>Stats</strong> </div> <div class="grid grid-cols-4 gap-1 w-fit svelte-1k48ly"></div></div>'),St=j('<div class="p-8 flex flex-col justify-center w-min"><h2 class="text-2xl font-bold mb-4">Solutions</h2> <!></div>'),kt=j("<p>No solutions found.</p>"),Ct=j('<div class="p-8"><div>Soul weapon engravement optimimzer for <a class="text-blue-500" href="https://www.reddit.com/r/SlayerLegend/">Slayer Legends</a></div> <div class="my-4"><div>If you have any comments/requests you can reach out to me via:</div> <div class="ml-3">Discord: quantumpie</div> <div class="ml-3">Reddit: u/QuantumPie_</div></div> <div class="mt-8 flex flex-col justify-center w-min"><div class="space-y-2 mb-4"></div> <button type="button" class="btn preset-filled-primary-500">Start</button></div> <div class="w-screen"><!></div></div>');function Lt(t,m){ct(m,!0);let v=V(lt([[!1,!0,!0,!0],[!1,!0,!0,!0],[!1,!0,!1,!0],[!0,!0,!0,!0]])),g=V(null);const y=(o,s)=>{p(v)[o][s]=!p(v)[o][s],Y(v,[...p(v)],!0)},P=o=>{const s=Array.from({length:4},()=>Array(4).fill(null));for(const{piece:l,rotation:c,position:n}of o){const e=A[l][c],[r,a]=n;for(let f=0;f<e.length;f++)for(let i=0;i<e[f].length;i++)e[f][i]===1&&(s[r+f][a+i]=l)}return s},h={I:"#FF0000",O:"#00FF00",T:"#0000FF",L:"#FF00FF",J:"#00FFFF",S:"#FFFF00",Z:"#FFFFFF"},S={I:"Gold",O:"Crit DMG",T:"HP Recovery",L:"ATK",J:"HP",S:"Accuracy",Z:"Dodge"},A={I:[[[1,1,1,1]],[[1],[1],[1],[1]]],O:[[[1,1],[1,1]]],T:[[[0,1,0],[1,1,1]],[[1,0],[1,1],[1,0]],[[1,1,1],[0,1,0]],[[0,1],[1,1],[0,1]]],L:[[[1,0],[1,0],[1,1]],[[1,1,1],[1,0,0]],[[1,1],[0,1],[0,1]],[[0,0,1],[1,1,1]]],J:[[[0,1],[0,1],[1,1]],[[1,0,0],[1,1,1]],[[1,1],[1,0],[1,0]],[[1,1,1],[0,0,1]]],S:[[[0,1,1],[1,1,0]],[[1,0],[1,1],[0,1]]],Z:[[[1,1,0],[0,1,1]],[[0,1],[1,1],[1,0]]]},D=(o,s)=>{const l=[];for(let c=0;c<s.length;c++){const n=s[c];for(let e=0;e<=o.length-n.length;e++)for(let r=0;r<=o[0].length-n[0].length;r++)K(o,n,e,r)&&l.push({rotation:c,position:[e,r]})}return l},K=(o,s,l,c)=>{for(let n=0;n<s.length;n++)for(let e=0;e<s[n].length;e++)if(s[n][e]===1){const r=l+n,a=c+e;if(r>=o.length||a>=o[0].length||!o[r][a])return!1}return!0},tt=(o,s)=>{const l=o.map(c=>c.map(()=>!1));for(const{rotation:c,position:n,piece:e}of s){const r=A[e][c],[a,f]=n;for(let i=0;i<r.length;i++)for(let u=0;u<r[i].length;u++)if(r[i][u]===1){if(l[a+i][f+u]||!o[a+i][f+u])return!1;l[a+i][f+u]=!0}}return o.every((c,n)=>c.every((e,r)=>!e||l[n][r]))},et=(o,s)=>{const l=[];for(const[a,f]of Object.entries(s)){const i=D(o,f).map(u=>({piece:a,...u}));l.push(...i)}const c=new Set,n=[],e=(a,f)=>{if(tt(o,a)){const i=a.map(({piece:u})=>u).sort().join(",");c.has(i)||(c.add(i),n.push([...a]));return}for(const i of l){const{piece:u,rotation:O,position:I}=i,b=s[u][O],[M,J]=I;let w=!0;for(let d=0;d<b.length;d++){for(let _=0;_<b[d].length;_++)if(b[d][_]===1){const B=M+d,T=J+_;if(f[B][T]){w=!1;break}}if(!w)break}if(!w)continue;const N=f.map(d=>[...d]);for(let d=0;d<b.length;d++)for(let _=0;_<b[d].length;_++)b[d][_]===1&&(N[M+d][J+_]=!0);a.push(i),e(a,N),a.pop()}},r=o.map(a=>a.map(()=>!1));return e([],r),n};var G=Ct(),Z=k(C(G),4),z=C(Z);L(z,20,()=>[0,1,2,3],q,(o,s)=>{var l=wt();L(l,20,()=>[0,1,2,3],q,(c,n)=>{var e=Ft(),r=C(e);mt(r),r.__change=[bt,y,s,n],F(e),$(a=>vt(r,a),[()=>E(p(v))[s][n]]),x(c,e)}),F(l),x(o,l)}),F(z);var rt=k(z,2);rt.__click=[_t,v,g,et,A],F(Z);var Q=k(Z,2),ot=C(Q);{var st=o=>{var s=U(),l=W(s);{var c=e=>{var r=St(),a=k(C(r),2);L(a,17,()=>p(g),q,(f,i,u)=>{var O=yt(),I=C(O);I.textContent=`Solution ${u+1}:`;var b=k(I,2),M=k(C(b));F(b);var J=k(b,2);L(J,21,()=>P(p(i)),q,(w,N)=>{var d=U(),_=W(d);L(_,17,()=>p(N),q,(B,T)=>{var H=xt();$(()=>{ut(H,`background-color: ${(p(T)?h[p(T)]:"transparent")??""}`),ht(H,"title",p(T)?`Piece: ${p(T)}`:"")}),x(B,H)}),x(w,d)}),F(J),F(O),$(w=>pt(M,`: ${w??""}`),[()=>p(i).map(({piece:w})=>S[w]).join(", ")]),x(f,O)}),F(r),x(e,r)},n=e=>{var r=kt();x(e,r)};X(l,e=>{p(g).length>0?e(c):e(n,!1)})}x(o,s)};X(ot,o=>{p(g)&&o(st)})}F(Q),F(G),x(t,G),ft()}dt(["change","click"]);export{Lt as component};
