import{J as P,m as U,n as l,o as q,K as A,B,C as F,D as J,F as D,U as k,L as y,M as C,N as H,v as c,O as K,y as M,P as L,Q as R,R as S,c as Q,G as I,I as N,f as Y}from"./BMSpobdn.js";const p=0,o=1,T=2;function g(w,G,i,x,_){l&&q();var s=w,E=P(),O=Q,a=k,r,t,f,v=E?C(void 0):H(void 0,!1,!1),d=E?C(void 0):H(void 0,!1,!1),m=!1;function u(e,n){m=!0,n&&(L(b),R(b),S(O));try{e===p&&i&&(r?I(r):r=c(()=>i(s))),e===o&&x&&(t?I(t):t=c(()=>x(s,v))),e===T&&_&&(f?I(f):f=c(()=>_(s,d))),e!==p&&r&&N(r,()=>r=null),e!==o&&t&&N(t,()=>t=null),e!==T&&f&&N(f,()=>f=null)}finally{n&&(S(null),R(null),L(null),Y())}}var b=U(()=>{if(a===(a=G()))return;let e=l&&A(a)===(s.data===B);if(e&&(s=F(),J(s),D(!1),e=!0),A(a)){var n=a;m=!1,n.then(h=>{n===a&&(y(v,h),u(o,!0))},h=>{if(n===a&&(y(d,h),u(T,!0),!_))throw d.v}),l?i&&(r=c(()=>i(s))):K(()=>{m||u(p,!0)})}else y(v,a),u(o,!1);return e&&D(!0),()=>a=k});l&&(s=M)}export{g as a};
