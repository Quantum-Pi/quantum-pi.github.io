import{M as U,n as q,o as l,p as z,N as k,H as F,C as G,D as K,F as A,U as D,O as p,P as H,Q as S,w as c,R as M,z as Q,S as w,T as C,V as L,c as V,K as y,L as N,f as Y}from"./D4mxbF7Y.js";const T=0,o=1,I=2;function g(R,O,n,x,_){l&&z();var s=R,E=U(),P=V,a=D,t,f,r,d=E?H(void 0):S(void 0,!1,!1),v=E?H(void 0):S(void 0,!1,!1),h=!1;function u(e,i){h=!0,i&&(w(b),C(b),L(P));try{e===T&&n&&(t?y(t):t=c(()=>n(s))),e===o&&x&&(f?y(f):f=c(()=>x(s,d))),e===I&&_&&(r?y(r):r=c(()=>_(s,v))),e!==T&&t&&N(t,()=>t=null),e!==o&&f&&N(f,()=>f=null),e!==I&&r&&N(r,()=>r=null)}finally{i&&(L(null),C(null),w(null),Y())}}var b=q(()=>{if(a===(a=O()))return;let e=l&&k(a)===(s.data===F);if(e&&(s=G(),K(s),A(!1),e=!0),k(a)){var i=a;h=!1,i.then(m=>{i===a&&(p(d,m),u(o,!0))},m=>{if(i===a&&(p(v,m),u(I,!0),!_))throw v.v}),l?n&&(t=c(()=>n(s))):M(()=>{h||u(T,!0)})}else p(d,a),u(o,!1);return e&&A(!0),()=>a=D});l&&(s=Q)}export{g as a};
