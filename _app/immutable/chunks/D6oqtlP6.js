import{M as U,n as q,o as l,p as z,N as A,H as F,C as G,D as K,F as D,U as H,O as y,P as S,Q as k,w as c,R as M,z as Q,S as w,T as C,V as L,c as V,K as p,L as N,f as Y}from"./BbtZy7QX.js";const T=0,o=1,I=2;function g(R,O,i,x,_){l&&z();var s=R,E=U(),P=V,a=H,r,t,f,v=E?S(void 0):k(void 0,!1,!1),d=E?S(void 0):k(void 0,!1,!1),h=!1;function u(e,n){h=!0,n&&(w(b),C(b),L(P));try{e===T&&i&&(r?p(r):r=c(()=>i(s))),e===o&&x&&(t?p(t):t=c(()=>x(s,v))),e===I&&_&&(f?p(f):f=c(()=>_(s,d))),e!==T&&r&&N(r,()=>r=null),e!==o&&t&&N(t,()=>t=null),e!==I&&f&&N(f,()=>f=null)}finally{n&&(L(null),C(null),w(null),Y())}}var b=q(()=>{if(a===(a=O()))return;let e=l&&A(a)===(s.data===F);if(e&&(s=G(),K(s),D(!1),e=!0),A(a)){var n=a;h=!1,n.then(m=>{n===a&&(y(v,m),u(o,!0))},m=>{if(n===a&&(y(d,m),u(I,!0),!_))throw d.v}),l?i&&(r=c(()=>i(s))):M(()=>{h||u(T,!0)})}else y(v,a),u(o,!1);return e&&D(!0),()=>a=H});l&&(s=Q)}export{g as a};
