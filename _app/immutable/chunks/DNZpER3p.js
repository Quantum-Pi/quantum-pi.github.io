import{W as z,X as ne,Y as ae,Z as fe,b as te,_ as F,s as H,h as x,$ as ie,e as se,G as B,a0 as ue,r as le,f as _e,g as G,i as R,c as g,a1 as oe,j as K,a as P,p as ve,a2 as O,a3 as Q,t as de,a4 as U,a5 as k,m as W,a6 as L,q as ce,o as Z,a7 as he,a8 as Ee,a9 as pe,aa as Ae,d as Te,ab as me,ac as Ie}from"./BaNVDPTi.js";const we=[];function Ne(e,r=!1){return b(e,new Map,"",we)}function b(e,r,n,u,l=null){if(typeof e=="object"&&e!==null){var _=r.get(e);if(_!==void 0)return _;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(z(e)){var f=Array(e.length);r.set(e,f),l!==null&&r.set(l,f);for(var o=0;o<e.length;o+=1){var E=e[o];o in e&&(f[o]=b(E,r,n,u))}return f}if(ne(e)===ae){f={},r.set(e,f),l!==null&&r.set(l,f);for(var c in e)f[c]=b(e[c],r,n,u);return f}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return b(e.toJSON(),r,n,u,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function be(e,r){return r}function xe(e,r,n,u){for(var l=[],_=r.length,f=0;f<_;f++)Ee(r[f].e,l,!0);var o=_>0&&l.length===0&&n!==null;if(o){var E=n.parentNode;pe(E),E.append(n),u.clear(),w(e,r[0].prev,r[_-1].next)}Ae(l,()=>{for(var c=0;c<_;c++){var d=r[c];o||(u.delete(d.k),w(e,d.prev,d.next)),Te(d.e,!o)}})}function Me(e,r,n,u,l,_=null){var f=e,o={flags:r,items:new Map,first:null},E=(r&F)!==0;if(E){var c=e;f=x?H(ie(c)):c.appendChild(fe())}x&&se();var d=null,C=!1,i=ue(()=>{var v=n();return z(v)?v:v==null?[]:Q(v)});te(()=>{var v=B(i),a=v.length;if(C&&a===0)return;C=a===0;let m=!1;if(x){var p=le(f)===_e;p!==(a===0)&&(f=G(),H(f),R(!1),m=!0)}if(x){for(var A=null,T,h=0;h<a;h++){if(g.nodeType===8&&g.data===oe){f=g,m=!0,R(!1);break}var t=v[h],s=u(t,h);T=j(g,o,A,null,t,s,h,l,r,n),o.items.set(s,T),A=T}a>0&&H(G())}x||Ce(v,o,f,l,r,u,n),_!==null&&(a===0?d?K(d):d=P(()=>_(f)):d!==null&&ve(d,()=>{d=null})),m&&R(!0),B(i)}),x&&(f=g)}function Ce(e,r,n,u,l,_,f){var y,Y,J,V;var o=(l&he)!==0,E=(l&(k|L))!==0,c=e.length,d=r.items,C=r.first,i=C,v,a=null,m,p=[],A=[],T,h,t,s;if(o)for(s=0;s<c;s+=1)T=e[s],h=_(T,s),t=d.get(h),t!==void 0&&((y=t.a)==null||y.measure(),(m??(m=new Set)).add(t));for(s=0;s<c;s+=1){if(T=e[s],h=_(T,s),t=d.get(h),t===void 0){var ee=i?i.e.nodes_start:n;a=j(ee,r,a,a===null?r.first:a.next,T,h,s,u,l,f),d.set(h,a),p=[],A=[],i=a.next;continue}if(E&&Se(t,T,s,l),(t.e.f&O)!==0&&(K(t.e),o&&((Y=t.a)==null||Y.unfix(),(m??(m=new Set)).delete(t))),t!==i){if(v!==void 0&&v.has(t)){if(p.length<A.length){var N=A[0],I;a=N.prev;var q=p[0],M=p[p.length-1];for(I=0;I<p.length;I+=1)$(p[I],N,n);for(I=0;I<A.length;I+=1)v.delete(A[I]);w(r,q.prev,M.next),w(r,a,q),w(r,M,N),i=N,a=M,s-=1,p=[],A=[]}else v.delete(t),$(t,i,n),w(r,t.prev,t.next),w(r,t,a===null?r.first:a.next),w(r,a,t),a=t;continue}for(p=[],A=[];i!==null&&i.k!==h;)(i.e.f&O)===0&&(v??(v=new Set)).add(i),A.push(i),i=i.next;if(i===null)continue;t=i}p.push(t),a=t,i=t.next}if(i!==null||v!==void 0){for(var S=v===void 0?[]:Q(v);i!==null;)(i.e.f&O)===0&&S.push(i),i=i.next;var D=S.length;if(D>0){var re=(l&F)!==0&&c===0?n:null;if(o){for(s=0;s<D;s+=1)(J=S[s].a)==null||J.measure();for(s=0;s<D;s+=1)(V=S[s].a)==null||V.fix()}xe(r,S,re,d)}}o&&de(()=>{var X;if(m!==void 0)for(t of m)(X=t.a)==null||X.apply()}),U.first=r.first&&r.first.e,U.last=a&&a.e}function Se(e,r,n,u){(u&k)!==0&&W(e.v,r),(u&L)!==0?W(e.i,n):e.i=n}function j(e,r,n,u,l,_,f,o,E,c){var d=(E&k)!==0,C=(E&me)===0,i=d?C?ce(l):Z(l):l,v=(E&L)===0?f:Z(f),a={i:v,v:i,k:_,a:null,e:null,prev:n,next:u};try{return a.e=P(()=>o(e,i,v,c),x),a.e.prev=n&&n.e,a.e.next=u&&u.e,n===null?r.first=a:(n.next=a,n.e.next=a.e),u!==null&&(u.prev=a,u.e.prev=a.e),a}finally{}}function $(e,r,n){for(var u=e.next?e.next.e.nodes_start:n,l=r?r.e.nodes_start:n,_=e.e.nodes_start;_!==u;){var f=Ie(_);l.before(_),_=f}}function w(e,r,n){r===null?e.first=n:(r.next=n,r.e.next=n&&n.e),n!==null&&(n.prev=r,n.e.prev=r&&r.e)}export{Me as e,be as i,Ne as s};
