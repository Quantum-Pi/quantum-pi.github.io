import{Q as g,d as w,h as n,i as x,R as N,H as A,s as B,m as D,n as c,L as H,q as v,y as T,z as E,S as L,T as R,U as q,V as U,W as z,X as G}from"./BB6PZjOq.js";import{B as M}from"./BTXIRel-.js";const b=0,_=1;function Q(m,k,y,r,l){n&&x();var h=g(),t=G,i=h?T(t):E(t,!1,!1),o=h?T(t):E(t,!1,!1),s=new M(m);w(()=>{var u=k(),d=!1;let p=n&&N(u)===(m.data===A);if(p&&(B(D()),c(!1)),N(u)){var S=L(),I=!1;const a=e=>{if(!d){I=!0,S(!1),R.ensure(),n&&c(!1);try{e()}finally{q(),U||z()}}};u.then(e=>{a(()=>{v(i,e),s.ensure(_,r&&(f=>r(f,i)))})},e=>{a(()=>{if(v(o,e),s.ensure(_,l&&(f=>l(f,o))),!l)throw o.v})}),n?s.ensure(b,y):H(()=>{I||a(()=>{s.ensure(b,y)})})}else v(i,u),s.ensure(_,r&&(a=>r(a,i)));return p&&c(!0),()=>{d=!0}})}export{Q as a};
