import{N as O,o as P,p as l,q as U,O as b,H as g,D as F,F as M,G as k,U as D,P as y,Q as H,R as S,x as c,S as Q,A as V,T as L,V as R,W as q,c as W,L as p,M as N,X,h as Y}from"./CJHkaf-H.js";const T=0,o=1,x=2;function j(w,C,n,I,_){l&&U();var s=w,A=O(),G=W,a=D,f,t,r,d=A?H(void 0):S(void 0,!1,!1),v=A?H(void 0):S(void 0,!1,!1),h=!1;function u(e,i){h=!0,i&&(L(E),R(E),q(G));try{e===T&&n&&(f?p(f):f=c(()=>n(s))),e===o&&I&&(t?p(t):t=c(()=>I(s,d))),e===x&&_&&(r?p(r):r=c(()=>_(s,v))),e!==T&&f&&N(f,()=>f=null),e!==o&&t&&N(t,()=>t=null),e!==x&&r&&N(r,()=>r=null)}finally{i&&(q(null),R(null),L(null),X||Y())}}var E=P(()=>{if(a===(a=C()))return;let e=l&&b(a)===(s.data===g);if(e&&(s=F(),M(s),k(!1),e=!0),b(a)){var i=a;h=!1,i.then(m=>{i===a&&(y(d,m),u(o,!0))},m=>{if(i===a&&(y(v,m),u(x,!0),!_))throw v.v}),l?n&&(f=c(()=>n(s))):Q(()=>{h||u(T,!0)})}else y(d,a),u(o,!1);return e&&k(!0),()=>a=D});l&&(s=V)}export{j as a};
