import{a0 as re,a1 as ie,a2 as se,A as L,d as te,a3 as ne,f as F,h as D,a4 as le,e as ue,L as Z,a5 as oe,r as de,H as ce,s as $,g as q,D as k,a6 as ve,a7 as pe,k as y,w as ge,a8 as S,C as V,G as _e,m as j,n as he,a9 as B,aa as Ee,ab as me,ac as Se,x as fe,z as ae,ad as J,q as Te,ae as we,af as Ae,ag as Ce,y as Ne}from"./aoyB_D01.js";const Ie=[];function Oe(e,n=!1,i=!1){return z(e,new Map,"",Ie,null,i)}function z(e,n,i,o,v=null,l=!1){if(typeof e=="object"&&e!==null){var t=n.get(e);if(t!==void 0)return t;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(re(e)){var u=Array(e.length);n.set(e,u),v!==null&&n.set(v,u);for(var f=0;f<e.length;f+=1){var d=e[f];f in e&&(u[f]=z(d,n,i,o,null,l))}return u}if(ie(e)===se){u={},n.set(e,u),v!==null&&n.set(v,u);for(var a in e)u[a]=z(e[a],n,i,o,null,l);return u}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function"&&!l)return z(e.toJSON(),n,i,o,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function He(e,n){return n}function Me(e,n,i){for(var o=[],v=n.length,l,t=n.length,u=0;u<v;u++){let _=n[u];ae(_,()=>{if(l){if(l.pending.delete(_),l.done.add(_),l.pending.size===0){var c=e.outrogroups;Y(B(l.done)),c.delete(l),c.size===0&&(e.outrogroups=null)}}else t-=1},!1)}if(t===0){var f=o.length===0&&i!==null;if(f){var d=i,a=d.parentNode;Ce(a),a.append(d),e.items.clear()}Y(n,!f)}else l={pending:new Set(n),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(l)}function Y(e,n=!0){for(var i=0;i<e.length;i++)Ne(e[i],n)}var ee;function Re(e,n,i,o,v,l=null){var t=e,u=new Map,f=(n&ne)!==0;if(f){var d=e;t=D?F(le(d)):d.appendChild(L())}D&&ue();var a=null,_=oe(()=>{var s=i();return re(s)?s:s==null?[]:B(s)}),c,p=!0;function w(){r.fallback=a,xe(r,c,t,n,o),a!==null&&(c.length===0?(a.f&S)===0?fe(a):(a.f^=S,O(a,null,t)):ae(a,()=>{a=null}))}var N=te(()=>{c=Z(_);var s=c.length;let I=!1;if(D){var M=de(t)===ce;M!==(s===0)&&(t=$(),F(t),q(!1),I=!0)}for(var E=new Set,A=ge,x=_e(),g=0;g<s;g+=1){D&&k.nodeType===ve&&k.data===pe&&(t=k,I=!0,q(!1));var C=c[g],b=o(C,g),h=p?null:u.get(b);h?(h.v&&y(h.v,C),h.i&&y(h.i,g),x&&A.skipped_effects.delete(h.e)):(h=be(u,p?t:ee??(ee=L()),C,b,g,v,n,i),p||(h.e.f|=S),u.set(b,h)),E.add(b)}if(s===0&&l&&!a&&(p?a=V(()=>l(t)):(a=V(()=>l(ee??(ee=L()))),a.f|=S)),D&&s>0&&F($()),!p)if(x){for(const[H,R]of u)E.has(H)||A.skipped_effects.add(R.e);A.oncommit(w),A.ondiscard(()=>{})}else w();I&&q(!0),Z(_)}),r={effect:N,items:u,outrogroups:null,fallback:a};p=!1,D&&(t=k)}function xe(e,n,i,o,v){var h,H,R,G,U,X,K,P,Q;var l=(o&Ae)!==0,t=n.length,u=e.items,f=e.effect.first,d,a=null,_,c=[],p=[],w,N,r,s;if(l)for(s=0;s<t;s+=1)w=n[s],N=v(w,s),r=u.get(N).e,(r.f&S)===0&&((H=(h=r.nodes)==null?void 0:h.a)==null||H.measure(),(_??(_=new Set)).add(r));for(s=0;s<t;s+=1){if(w=n[s],N=v(w,s),r=u.get(N).e,e.outrogroups!==null)for(const m of e.outrogroups)m.pending.delete(r),m.done.delete(r);if((r.f&S)!==0)if(r.f^=S,r===f)O(r,null,i);else{var I=a?a.next:f;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),T(e,a,r),T(e,r,I),O(r,I,i),a=r,c=[],p=[],f=a.next;continue}if((r.f&J)!==0&&(fe(r),l&&((G=(R=r.nodes)==null?void 0:R.a)==null||G.unfix(),(_??(_=new Set)).delete(r))),r!==f){if(d!==void 0&&d.has(r)){if(c.length<p.length){var M=p[0],E;a=M.prev;var A=c[0],x=c[c.length-1];for(E=0;E<c.length;E+=1)O(c[E],M,i);for(E=0;E<p.length;E+=1)d.delete(p[E]);T(e,A.prev,x.next),T(e,a,A),T(e,x,M),f=M,a=x,s-=1,c=[],p=[]}else d.delete(r),O(r,f,i),T(e,r.prev,r.next),T(e,r,a===null?e.effect.first:a.next),T(e,a,r),a=r;continue}for(c=[],p=[];f!==null&&f!==r;)(d??(d=new Set)).add(f),p.push(f),f=f.next;if(f===null)continue}(r.f&S)===0&&c.push(r),a=r,f=r.next}if(e.outrogroups!==null){for(const m of e.outrogroups)m.pending.size===0&&(Y(B(m.done)),(U=e.outrogroups)==null||U.delete(m));e.outrogroups.size===0&&(e.outrogroups=null)}if(f!==null||d!==void 0){var g=[];if(d!==void 0)for(r of d)(r.f&J)===0&&g.push(r);for(;f!==null;)(f.f&J)===0&&f!==e.fallback&&g.push(f),f=f.next;var C=g.length;if(C>0){var b=(o&ne)!==0&&t===0?i:null;if(l){for(s=0;s<C;s+=1)(K=(X=g[s].nodes)==null?void 0:X.a)==null||K.measure();for(s=0;s<C;s+=1)(Q=(P=g[s].nodes)==null?void 0:P.a)==null||Q.fix()}Me(e,g,b)}}l&&Te(()=>{var m,W;if(_!==void 0)for(r of _)(W=(m=r.nodes)==null?void 0:m.a)==null||W.apply()})}function be(e,n,i,o,v,l,t,u){var f=(t&Ee)!==0?(t&me)===0?he(i,!1,!1):j(i):null,d=(t&Se)!==0?j(v):null;return{v:f,i:d,e:V(()=>(l(n,f??i,d??v,u),()=>{e.delete(o)}))}}function O(e,n,i){if(e.nodes)for(var o=e.nodes.start,v=e.nodes.end,l=n&&(n.f&S)===0?n.nodes.start:i;o!==null;){var t=we(o);if(l.before(o),o===v)return;o=t}}function T(e,n,i){n===null?e.effect.first=i:n.next=i,i===null?e.effect.last=n:i.prev=n}export{Re as e,He as i,Oe as s};
