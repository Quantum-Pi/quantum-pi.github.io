import{m as z,b as B,h as c,o as F,p as E,H as G,q as O,s as P,t as D,U as H,v as y,w as k,x as w,a as o,y as Y,c as Z,z as C,A as S,B as q,e as g,C as p,D as x,F as j}from"./BNeQYQok.js";const I=0,l=1,N=2;function K(L,R,n,T,_){c&&F();var s=L,b=z(),U=g,a=H,t,r,f,v=(b?k:w)(void 0),d=(b?k:w)(void 0),h=!1;function u(e,i){h=!0,i&&(C(A),S(A),q(U));try{e===I&&n&&(t?p(t):t=o(()=>n(s))),e===l&&T&&(r?p(r):r=o(()=>T(s,v))),e===N&&_&&(f?p(f):f=o(()=>_(s,d))),e!==I&&t&&x(t,()=>t=null),e!==l&&r&&x(r,()=>r=null),e!==N&&f&&x(f,()=>f=null)}finally{i&&(q(null),S(null),C(null),j())}}var A=B(()=>{if(a===(a=R()))return;let e=c&&E(a)===(s.data===G);if(e&&(s=O(),P(s),D(!1),e=!0),E(a)){var i=a;h=!1,i.then(m=>{i===a&&(y(v,m),u(l,!0))},m=>{if(i===a&&(y(d,m),u(N,!0),!_))throw d.v}),c?n&&(t=o(()=>n(s))):Y(()=>{h||u(I,!0)})}else y(v,a),u(l,!1);return e&&D(!0),()=>a=H});c&&(s=Z)}export{K as a};
