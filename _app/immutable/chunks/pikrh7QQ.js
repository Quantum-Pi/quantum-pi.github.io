import{M as P,b as U,h as c,i as z,N as E,H as G,l as M,s as Q,m as H,U as S,x as y,A as k,z as D,a as l,u as Y,c as Z,O as R,P as q,Q as w,R as g,p,q as N,S as j}from"./B1cfdzNR.js";const x=0,o=1,I=2;function F(C,L,n,T,_){c&&z();var s=C,b=P(),O=g,a=S,r,t,f,v=(b?k:D)(void 0),d=(b?k:D)(void 0),h=!1;function u(e,i){h=!0,i&&(R(A),q(A),w(O));try{e===x&&n&&(r?p(r):r=l(()=>n(s))),e===o&&T&&(t?p(t):t=l(()=>T(s,v))),e===I&&_&&(f?p(f):f=l(()=>_(s,d))),e!==x&&r&&N(r,()=>r=null),e!==o&&t&&N(t,()=>t=null),e!==I&&f&&N(f,()=>f=null)}finally{i&&(w(null),q(null),R(null),j())}}var A=U(()=>{if(a===(a=L()))return;let e=c&&E(a)===(s.data===G);if(e&&(s=M(),Q(s),H(!1),e=!0),E(a)){var i=a;h=!1,i.then(m=>{i===a&&(y(v,m),u(o,!0))},m=>{if(i===a&&(y(d,m),u(I,!0),!_))throw d.v}),c?n&&(r=l(()=>n(s))):Y(()=>{h||u(x,!0)})}else y(v,a),u(o,!1);return e&&H(!0),()=>a=S});c&&(s=Z)}export{F as a};
