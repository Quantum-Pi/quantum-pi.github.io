import{i as B,b as w,h as l,a as x,e as N,H as A,c as D,s as H,d as c,q as S,f as v,g as b,m as k,j as q,B as L,u as R,k as U,l as j,U as G}from"./OQWIG1sH.js";import{B as M}from"./BE3tzM68.js";const E=0,_=1;function Y(m,T,y,r,n){l&&x();var h=B(),t=G,i=h?b(t):k(t,!1,!1),f=h?b(t):k(t,!1,!1),s=new M(m);w(()=>{var u=T(),d=!1;let p=l&&N(u)===(m.data===A);if(p&&(D(H()),c(!1)),N(u)){var g=q(),I=!1;const a=e=>{if(!d){I=!0,g(!1),L.ensure(),l&&c(!1);try{e()}finally{R(),U||j()}}};u.then(e=>{a(()=>{v(i,e),s.ensure(_,r&&(o=>r(o,i)))})},e=>{a(()=>{if(v(f,e),s.ensure(_,n&&(o=>n(o,f))),!n)throw f.v})}),l?s.ensure(E,y):S(()=>{I||a(()=>{s.ensure(E,y)})})}else v(i,u),s.ensure(_,r&&(a=>r(a,i)));return p&&c(!0),()=>{d=!0}})}export{Y as a};
