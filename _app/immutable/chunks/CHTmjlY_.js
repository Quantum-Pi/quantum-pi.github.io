import{O as g,b as w,h as l,d as x,P as N,H as A,s as B,f as D,i as c,F as H,l as v,Q as R,R as L,S as O,T as P,z as T,U,y as b,V as q}from"./DHhciVuq.js";import{B as z}from"./CQWPb0HC.js";const E=0,_=1;function M(y,k,m,r,n){l&&x();var h=g(),t=U,i=h?T(t):b(t,!1,!1),f=h?T(t):b(t,!1,!1),s=new z(y);w(()=>{var u=k(),d=!1;let p=l&&N(u)===(y.data===A);if(p&&(B(D()),c(!1)),N(u)){var S=q(),I=!1;const a=e=>{if(!d){I=!0,S(!1),R.ensure(),l&&c(!1);try{e()}finally{L(),O||P()}}};u.then(e=>{a(()=>{v(i,e),s.ensure(_,r&&(o=>r(o,i)))})},e=>{a(()=>{if(v(f,e),s.ensure(_,n&&(o=>n(o,f))),!n)throw f.v})}),l?s.ensure(E,m):H(()=>{I||a(()=>{s.ensure(E,m)})})}else v(i,u),s.ensure(_,r&&(a=>r(a,i)));return p&&c(!0),()=>{d=!0}})}export{M as a};
