import{m as z,b as B,h,o as G,p as L,U as w,q as m,s as A,t as E,a as c,v as P,c as S,w as T,x as q,y as C,e as Z,z as p,A as y,B as j}from"./D8XQzCG6.js";const x=0,o=1,b=2;function J(D,H,n,I,l){h&&G();var i=D,N=z(),U=Z,a=w,r,s,t,_=(N?A:E)(void 0),v=(N?A:E)(void 0),d=!1;function u(e,f){d=!0,f&&(T(k),q(k),C(U));try{e===x&&n&&(r?p(r):r=c(()=>n(i))),e===o&&I&&(s?p(s):s=c(()=>I(i,_))),e===b&&l&&(t?p(t):t=c(()=>l(i,v))),e!==x&&r&&y(r,()=>r=null),e!==o&&s&&y(s,()=>s=null),e!==b&&t&&y(t,()=>t=null)}finally{f&&(C(null),q(null),T(null),j())}}var k=B(()=>{if(a!==(a=H())){if(L(a)){var e=a;d=!1,e.then(f=>{e===a&&(m(_,f),u(o,!0))},f=>{if(e===a&&(m(v,f),u(b,!0),!l))throw v.v}),h?n&&(r=c(()=>n(i))):P(()=>{d||u(x,!0)})}else m(_,a),u(o,!1);return()=>a=w}});h&&(i=S)}export{J as a};
