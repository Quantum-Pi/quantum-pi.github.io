import{F as D,o as g,p as n,q as w,G as p,H as x,C as H,A as L,D as c,B as S,I as q,J as v,K as E,L as T,M as B,N as G,O as M,h as O,U as R}from"./O0Nj_jIa.js";const b=0,_=1;function C(y,k,h,r,l){n&&w();var m=D(),t=R,i=m?E(t):T(t,!1,!1),o=m?E(t):T(t,!1,!1),s=new S(y);g(()=>{var u=k(),I=!1;let N=n&&p(u)===(y.data===x);if(N&&(H(L()),c(!1)),p(u)){var A=B(),d=!1;const a=e=>{if(!I){d=!0,A(),n&&c(!1);try{e()}finally{G(),M||O()}}};u.then(e=>{a(()=>{v(i,e),s.ensure(_,r&&(f=>r(f,i)))})},e=>{a(()=>{if(v(o,e),s.ensure(_,l&&(f=>l(f,o))),!l)throw o.v})}),n?s.ensure(b,h):q(()=>{d||a(()=>{s.ensure(b,h)})})}else v(i,u),s.ensure(_,r&&(a=>r(a,i)));return N&&c(!0),()=>{I=!0}})}export{C as a};
